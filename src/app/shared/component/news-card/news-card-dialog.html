<div fxLayout="row" fxLayoutAlign="space-between center">
  <h1 matDialogTitle class="text-blue">Chi tiết bản tin đang phát </h1>
  <button class="me-2" mat-icon-button color="warn" (click)="dialogRef.close(false)">
    <mat-icon>close</mat-icon>
  </button>
</div>
<mat-divider></mat-divider>
<div mat-dialog-content>
  <audio controls class="full-width">
    <source src="{{data.data[0].url}}" type="audio/wav">
  </audio>

  <div fxLayout="column" fxLayoutGap="10" class="mt-3">
    <div fxLayout="row" fxLayoutGap="5">
      <div class="text-blue fw-500">Tên phát thanh:</div>
      <div class="text-gray">{{data.data[0].title}}</div>
    </div>

    <div fxLayout="row" fxLayoutGap="5">
      <div class="text-blue fw-500">Thời gian phát:</div>
      <div class="text-gray">{{data.data[0].date| date:'dd-MM-yyyy'}} {{data.data[0].starttime}}
        - {{data.data[0].endtime}}</div>
    </div>

    <div fxLayout="row" fxLayoutGap="5">
      <div class="text-blue fw-500">Lĩnh vực:</div>
      <div class="text-gray">{{data.data[0].field}}</div>
    </div>

    <div fxLayout="row" fxLayoutGap="5"
          *ngIf="data.data[0].content !== ''">
      <div class="text-blue fw-500">Nội dung phát:</div>
      <div style="width: 450px" class="text-gray">
        <app-see-more [content]="data.data[0].content"></app-see-more>
      </div>
    </div>

    <div fxLayout="column" fxLayoutGap="5">
      <div class="text-blue fw-500">Khu vực phát:</div>
      <div *ngFor="let item of data.area">
        <div fxLayout="row">
          <div (click)="item.display = !item.display"
               *ngIf="item.wards.length > 0"
               class="cursor">
            <mat-icon>{{item.display ? 'expand_more' : 'chevron_right'}}</mat-icon>
          </div>
          <p class="fw-500">{{ item.district }}</p>
        </div>

        <div *ngIf="data.area.length === 1 then displayData; else hiddenData"> </div>

        <ng-template #displayData>
          <ul class="ms-2 mt--1">
            <li *ngFor="let ward of item.wards; let i = index">
              {{ward}}
            </li>
          </ul>
        </ng-template>

        <ng-template #hiddenData>
          <div [class.hiddenItem]="!item.display">
            <ul class="ms-2 mt--1">
              <li *ngFor="let ward of item.wards; let i = index">
                {{ward}}
              </li>
            </ul>
          </div>
        </ng-template>


      </div>
    </div>


  </div>
  <div mat-dialog-actions align="end">
    <button mat-button color="warn" type="button" (click)="dialogRef.close(false)">Hủy</button>
  </div>

</div>
