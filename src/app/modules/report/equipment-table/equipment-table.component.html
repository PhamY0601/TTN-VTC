<div fxFlex="column">
  <div class="text-blue fz-3 fw-500">3. Tình trạng trang thiết bị phục vụ truyền thông quảng bá</div>
  <div class="mt-3" fxLayout="row" fxLayoutGap="30">
    <div class="mat-elevation-z2 bg-white"
         fxFlex="65" fxLayout="column" fxLayoutAlign="space-between stretch">
      <table mat-table [dataSource]="dataSource" matSort>
        <ng-container matColumnDef="stt">
          <th mat-header-cell *matHeaderCellDef> STT</th>
          <td mat-cell *matCellDef="let element; let i = index;">
            {{(paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
          </td>
        </ng-container>

        <ng-container matColumnDef="district">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Quận, Huyện</th>
          <td mat-cell *matCellDef="let element"> {{element.district}} </td>
        </ng-container>

        <ng-container matColumnDef="ward">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Xã</th>
          <td mat-cell *matCellDef="let element"> {{element.ward}} </td>
        </ng-container>

        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Chủng loại</th>
          <td mat-cell *matCellDef="let element">{{element.type}}</td>
        </ng-container>

        <ng-container matColumnDef="count">
          <th mat-header-cell *matHeaderCellDef>Số lượng</th>
          <td mat-cell *matCellDef="let element">{{element.error_count + element.success_count}}</td>
        </ng-container>

        <ng-container matColumnDef="radionode">
          <th mat-header-cell *matHeaderCellDef>Đơn vị cung cấp</th>
          <td mat-cell *matCellDef="let element">{{element.radionode}}</td>
        </ng-container>

        <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef>Hoạt động</th>
          <td mat-cell *matCellDef="let element">
           <span class="status status-wait">{{element.error_count}}</span> /
            <span class="status status-play">{{element.success_count}}</span>
          </td>
        </ng-container>


        <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
        <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumn;"
            [ngClass]="{'bg-table': even}"></tr>
      </table>

      <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="30">
        <div >Số bản ghi của bảng là: {{dataSource.data.length}}</div>
        <mat-paginator [hidePageSize]="true" [pageSizeOptions]="[15]"
                       #paginatorRef></mat-paginator>
      </div>

    </div>

    <mat-card  fxFlex="35" class="p-1" fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap="20px">
      <mat-card-header>
        <mat-card-title class="text-blue fz-3">Hoạt động</mat-card-title>
      </mat-card-header>
      <mat-card-content style="height: 400px; width: 400px">
        <canvas id="canvas">{{chartbyplay}}</canvas>
      </mat-card-content>
    </mat-card>

  </div>
</div>
