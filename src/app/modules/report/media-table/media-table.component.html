<div fxFlex="column">
  <div class="text-blue fz-3 fw-500">2.Nội dung bản tin media biên soạn </div>
  <div class="mt-3" fxLayout="row" fxLayoutGap="30">
  <div class="mat-elevation-z2 bg-white"
       fxFlex="65" fxLayout="column" fxLayoutAlign="space-between stretch">
    <table mat-table [dataSource]="dataSource" matSort>
      <ng-container matColumnDef="stt">
        <th mat-header-cell *matHeaderCellDef> STT</th>
        <td mat-cell *matCellDef="let element; let i = index;">
          {{(paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }}
        </td>
        <td mat-footer-cell *matFooterCellDef class="fw-600">Tổng</td>
      </ng-container>

      <ng-container matColumnDef="district">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Huyện</th>
        <td mat-cell *matCellDef="let element"> {{element.district}} </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Lĩnh vực</th>
        <td mat-cell *matCellDef="let element">{{element.type}}</td>
        <td mat-footer-cell *matFooterCellDef class="fw-600"></td>
      </ng-container>

      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef>Số lượng</th>
        <td mat-cell *matCellDef="let element">{{element.count}}</td>
        <td mat-footer-cell *matFooterCellDef class="fw-600">{{totalCount}}</td>
      </ng-container>

      <ng-container matColumnDef="radionode">
        <th mat-header-cell *matHeaderCellDef>Đăng ký phát</th>
        <td mat-cell *matCellDef="let element">{{element.radionode}}</td>
        <td mat-footer-cell *matFooterCellDef class="fw-600">{{totalRadionode}}</td>
      </ng-container>

      <ng-container matColumnDef="play_successful">
        <th mat-header-cell *matHeaderCellDef>Phát thành công</th>
        <td mat-cell *matCellDef="let element">{{element.play_successful}}</td>
        <td mat-footer-cell *matFooterCellDef class="fw-600">{{totalPlaySuccess}}</td>
      </ng-container>


      <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
      <tr mat-row *matRowDef="let row; let even = even; columns: displayedColumn;"
          [ngClass]="{'bg-table': even}"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumn; sticky: true"></tr>
    </table>

    <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="30">
      <div >Số bản ghi của bảng là: {{dataSource.data.length}}</div>
      <mat-paginator [hidePageSize]="true" [pageSizeOptions]="[9]"
                     #paginatorRef></mat-paginator>
    </div>

  </div>
  <div fxLayout="column" fxFlex="35" fxLayoutGap="30">
    <mat-card class="p-1" fxFlex="50" fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap="20px">
      <mat-card-header>
        <mat-card-title class="text-blue fz-3">Lĩnh vực</mat-card-title>
      </mat-card-header>
      <mat-card-content style="height: 200px; width: 400px">
        <canvas id="canvasbyfield">{{chartbyfield}}</canvas>
      </mat-card-content>
    </mat-card>

    <mat-card class="p-1" fxFlex="50" fxLayout="column" fxLayoutAlign="space-around center" fxLayoutGap="20px">
      <mat-card-header>
        <mat-card-title class="text-blue fz-3">Tình trạng phát</mat-card-title>
      </mat-card-header>
      <mat-card-content style="height: 200px; width: 400px">
        <canvas id="canvas">{{chartbyplay}}</canvas>
      </mat-card-content>
    </mat-card>

  </div>
  </div>
</div>
